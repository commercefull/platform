{
  "name": "commercefull",
  "version": "1.0.0",
  "main": "index.js",
  "license": "Apache-2.0",
  "scripts": {
    "dev": "NODE_ENV=development nodemon app.ts",
    "prd": "yarn prd:build && yarn prd:run",
    "prd:run": "NODE_ENV=production node --env-file=.env --watch ./app.mjs",
    "prd:run:pm2": "NODE_ENV=production pm2 start -i max node --env-file=.env --name commercefull -- ./app.mjs",
    "prd:build": "npx esbuild app.ts --bundle --minify --platform=node --target=es2022 --format=esm --outfile=app.mjs --external:./node_modules/* --banner:js='import { createRequire as topLevelCreateRequire } from \"module\"; const require = topLevelCreateRequire(import.meta.url);'",
    "db": "docker run --rm -d -P -p 127.0.0.1:5433:5432 --env-file ./.env --name commerce-db postgres:18-alpine",
    "db:stop": "docker stop commerce-db",
    "db:migrate": "knex migrate:latest --env development",
    "db:migrate:new": "knex migrate:make",
    "db:rollback": "knex migrate:rollback --env development",
    "db:rollback:all": "knex migrate:rollback --all --env development",
    "db:seed": "knex seed:run --env development",
    "db:types": "ts-node --transpile-only scripts/generate-knex-types.ts",
    "test": "jest",
    "test:int": "jest ./tests/integration",
    "test:e2e": "npx cypress run --headless --browser chrome",
    "cli:new:merchant": "NODE_ENV=development node -r ts-node/register ./cli/new-merchant.ts",
    "package:upgrade": "yarn upgrade --latest",
    "code:lint": "knip",
    "security:audit": "yarn audit --groups dependencies",
    "security:check": "yarn audit --groups dependencies --level high"
  },
  "dependencies": {
    "bcryptjs": "3.0.3",
    "body-parser": "2.2.1",
    "compression": "1.8.1",
    "connect-flash": "0.1.1",
    "connect-pg-simple": "10.0.0",
    "cookie-parser": "1.4.7",
    "cors": "^2.8.5",
    "dinero.js": "1.9.1",
    "ejs": "3.1.10",
    "express": "5.2.1",
    "express-rate-limit": "^7.5.0",
    "hpp": "^0.2.3",
    "express-session": "1.18.2",
    "express-validator": "7.3.1",
    "helmet": "8.1.0",
    "i18next": "25.7.2",
    "i18next-fs-backend": "2.6.1",
    "i18next-http-middleware": "3.9.0",
    "jsonwebtoken": "9.0.3",
    "moment": "2.30.1",
    "morgan": "1.10.1",
    "node-cache": "^5.1.2",
    "node-mailjet": "6.0.11",
    "nodemailer": "7.0.11",
    "passport": "0.7.0",
    "passport-local": "1.0.0",
    "pg": "^8.16.3",
    "connect-redis": "^8.0.1",
    "ioredis": "^5.6.1",
    "stripe": "20.0.0",
    "uuid": "^9.0.1"
  },
  "devDependencies": {
    "@types/body-parser": "1.19.6",
    "@types/compression": "1.8.1",
    "@types/connect-flash": "0.0.40",
    "@types/cookie-parser": "1.4.10",
    "@types/cors": "^2.8.17",
    "@types/hpp": "^0.2.6",
    "@types/dinero.js": "1.9.4",
    "@types/ejs": "3.1.5",
    "@types/express": "5.0.6",
    "@types/express-session": "1.18.2",
    "@types/jest": "30.0.0",
    "@types/jsonwebtoken": "9.0.10",
    "@types/morgan": "1.9.10",
    "@types/node": "25.0.1",
    "@types/nodemailer": "7.0.4",
    "@types/passport": "1.0.17",
    "@types/pg": "8.16.0",
    "@types/supertest": "^6.0.3",
    "@types/uuid": "^9.0.8",
    "axios": "1.13.2",
    "cypress": "15.7.1",
    "cypress-cucumber-preprocessor": "4.3.1",
    "dotenv": "^17.2.3",
    "esbuild": "0.27.1",
    "jest": "30.2.0",
    "knex": "^3.1.0",
    "knex-types": "0.5.0",
    "knip": "5.73.3",
    "nodemon": "3.1.11",
    "supertest": "^7.1.4",
    "ts-jest": "29.4.6",
    "ts-node": "10.9.2",
    "typescript": "5.9.3"
  }
}
